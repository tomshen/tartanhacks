<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="description" content="Tartanhacks 2014 Website"/>
        <meta name="author" content="Oscar Bezi, oscar@bezi.io"/>
        <meta name="viewport" content="initial-scale=1,width=device-width"/>
        <meta name="mobile-web-app-capable" content="yes"/>

        <title>TartanHacks 2015</title>

        <!-- CSS -->
        <link href="http://fonts.googleapis.com/css?family=Montserrat:700,400" rel="stylesheet"/>
        <link href="http://fonts.googleapis.com/css?family=Roboto+Slab:700,400" rel="stylesheet"/>
        <link href="assets/css/main.css" rel="stylesheet"/>

        <!-- Favicon -->
        <link rel="icon" sizes="196x196" href="assets/imgs/favicon.png"/>
    </head>
    <body>
        <!-- Splash page -->
        <div id="splash">
            <div id="splash-bg"></div>
            <div id="splash-info">
                <a href="#/profile">Profile</a>
                <a href="#/register">Register</a>
                <img class="logo" src="assets/imgs/logo.png" alt="TartanHacks logo"/>
                <h1>TartanHacks</h1>
                <p>February 6-7, 2015</p>
            </div>
        </div>

        <!-- Main content -->
        <div id="content"></div>

        <!-- Footer -->
        <footer>
            <p>TartanHacks is brought to you by Scottylabs.  Found a bug?  Email us at <a href="mailto:help@scottylabs.org">help@scottylabs.org</a>.</p>
        </footer>
        <div id="googleSignIn"></div>

        <!-- About page -->
        <script id="about-template" type="text/x-handlebars-template">
            <h1>About</h1>
            <p>TartanHacks is an annual hackathon at Carnegie Mellon University run by <a href="http://www.scottylabs.org/">Scottylabs</a>, a student organization.</p>
            <p>Registration opens on Monday, January 19th at 6pm.  We offer priority registration to freshmen and female hackers at 5pm.</p>
            <p>Join our <a href="https://www.facebook.com/events/1600745683479118/">Facebook event</a> to stay up to date.</p>
        </script>

        <!-- Profile -->
        <script id="profile-template" type="text/x-handlebars-template">
            <h1>Your Profile</h1>
            {{#unless loggedIn}}
                <p>you need to sign in with google to access your profile.</p>
                <button id="googlesigninbtn">sign in</button>
            {{else}}
                {{#if edit }}
                    <form id="profile-form">
                        <label for="profile-firstName">First Name</label>
                        <input type="text" name="firstName" id="profile-firstName" placeholder="Andrew" value="{{ user.firstName }}"/>

                        <label for="acccount-lastName">Last Name</label>
                        <input type="text" name="lastName" id="profile-lastName" placeholder="Carnegie" value="{{ user.lastName }}"/>

                        <label for="profile-email">Email</label>
                        <input type="email" name="email" id="profile-email" placeHolder="andrew@andrew.cmu.edu" value="{{ user.email }}"/>

                        <label for="profile-github">Github username</label>
                        <input type="text" name="github" id="profile-github" placeholder="octocat" value="{{ user.github }}"/>

                        <label for="profile-url">URL</label>
                        <input type="url" name="url" id="profile-url" placeholder="http://www.cmu.edu" value="{{ user.url }}"/>

                        <label for="profile-pastHackathons">Past Hackathons</label>
                        <input type="text" name="pastHackathons" id="profile-pastHackathons" placeholder="TartanHacks 2014" value="{{ user.pastHackathons }}"/>

                        <label for="profile-linkedIn">LinkedIn</label>
                        <input type="url" name="linkedIn" id="profile-linkedIn" placeholder="http://www.linkedin.com/pub/andrew-carnegie" value="{{ user.linkedIn }}"/>

                        <label for="profile-age">Age</label>
                        <input type="number" name="age" id="profile-age" placeholder="18" value="{{ user.age }}"/>

                        <fieldset>
                            <legend>Gender</legend>

                            <label for="profile-gender-male">
                                <input type="radio" name="gender" id="profile-gender-male" {{#if_cond user.gender '===' 'Male'}} checked {{/if_cond}} value="Male"/>
                                Male
                            </label>

                            <label for="profile-gender-female">
                                <input type="radio" name="gender" id="profile-gender-female" {{#if_cond user.gender '===' 'Female'}} checked {{/if_cond}} value="Female"/>
                                Female
                            </label>

                            <label for="profile-gender-other">
                                <input type="radio" name="gender" id="profile-gender-other" {{#if_cond user.gender '===' 'Other'}} checked {{/if_cond}} value="Other"/>
                                Other
                            </label>
                        </fieldset>

                        <label for="profile-major">Major</label>
                        <input type="text" name="major" id="profile-major" placeholder="Underwater Basket Weaving" value="{{ user.major }}"/>

                        <label for="profile-year">Year of Graduation</label>
                        <input type="number" name="year" id="profile-year" placeholder="2015" value="{{ user.year }}"/>
                    </form>
                    <input id='profile-form-submit' for='profile-form' type="submit" value="Update"/>

                {{else}}
                    {{#if user}}
                        <p>{{#if user.firstName}}Hi, {{user.firstName}}!{{else}}Hi!{{/if}}</p>
                        <p>TODO: make nice profile.</p>
                    {{else}}
                        <p>Your profile is empty.  Why don't you fill it out?  This information will get passed along with your resume to our sponsors.</p>
                    {{/if}}
                    <a href="/#/profile/edit"><button>Edit Profile</button></a>
                    <button id='logout'>Log Out</button>
                {{/if}}
                <hr>
                <p>If you wish to delete your account, please type 'delete' in the box below and click the button.</p>
                <p>You cannot undo this, and by doing this you forfeit any position you may have either in TartanHacks or on the waitlist.</p>
                <form>
                    <input type='text' id='profile-delete-text' placeholder='delete'>
                </form>
                <button id='profile-delete'>Delete My Profile</button>
            {{/unless}}
        </script>

        <!-- Register -->
        <script id="register-template" type="text/x-handlebars-template">
            <h1>Register</h1>
            {{#if loggedIn}}
                {{#if user.isRegistered }}
                    {{#if user.isAccepted}}
                        <h2>Get Excited.</h2>
                        <p>You've got a spot at TartanHacks 2015.  Make sure to check-in on February 6 to keep your spot!</p>
                    {{else}}
                        <p>Thanks for registering!  You're on the waitlist right now, but if you come to the check-in on February 6, you may get off.</p>
                    {{/if}}
                {{else}}
                    {{#if_cond status '===' 'closed'}}
                        <p>Registration opens on Monday January 19th at 6pm.  We offer priority registration to freshmen and female hackers at 5pm.</p>
                    {{else}}
                        {{#if_cond status '===' 'priority'}}
                            {{#if priority}}
                                <form id="register-form">
                                    <label for="profile-firstName">First Name</label>
                                    <input type="text" name="firstName" id="register-firstName" placeholder="Andrew" value="{{ user.firstName }}"/>

                                    <label for="acccount-lastName">Last Name</label>
                                    <input type="text" name="lastName" id="register-lastName" placeholder="Carnegie" value="{{ user.lastName }}"/>

                                    <label for="register-email">Email</label>
                                    <input type="email" name="email" id="register-email" placeholder="andrew@andrew.cmu.edu" value="{{ user.email }}"/>

                                    <label>AndrewID (non-CMU students, leave this blank)</label>
                                    <input type="text" name="andrewID" id="register-code" placeholder="andrew">

                                    <label>Invite Code (for non-CMU students)</label>
                                    <input type="text" name="code" id="register-code" placeholder="cmu<3pittquesne"/>
                                    <label>Dietary restrictions</label>
                                    <textarea for="register-form" placeholder="Vegetarian, vegan, peanut allergy, etc" name="foodRestriction"></textarea>
                                </form>
                                <input id="register-form-submit" for="register-form" type="submit" value="Register">
                            {{else}}
                                <p>Priority registration for freshmen and female hackers is open!  Full registration opens up soon, at 6pm.</p>
                                <a href="/#/register/priority"><button>Register</button></a>
                            {{/if}}
                        {{else}}
                            <form id="register-form">
                                <label for="profile-firstName">First Name</label>
                                <input type="text" name="firstName" id="register-firstName" placeholder="Andrew" value="{{ user.firstName }}"/>

                                <label for="acccount-lastName">Last Name</label>
                                <input type="text" name="lastName" id="register-lastName" placeholder="Carnegie" value="{{ user.lastName }}"/>

                                <label for="register-email">Email</label>
                                <input type="email" name="email" id="register-email" placeholder="andrew@andrew.cmu.edu" value="{{ user.email }}"/>

                                <label>AndrewID (non-CMU students, leave this blank)</label>
                                <input type="text" name="andrewID" id="register-code" placeholder="andrew">

                                <label>Invite Code (for non-CMU students)</label>
                                <input type="text" name="code" id="register-code" placeholder="cmu<3pittquesne"/>

                                <label>Dietary restrictions</label>
                                <textarea for="register-form" placeholder="Vegetarian, vegan, peanut allergy, etc" name="foodRestriction"></textarea>
                            </form>
                            <input id="register-form-submit" for="register-form" type="submit" value="Register">
                        {{/if_cond}}
                    {{/if_cond}}
                {{/if}}
            {{else}}
                <p>You need to sign in with Google to register.</p>
                <button id="googleSignInBtn">Sign In</button>
            {{/if}}
        </script>
        <!-- Error handlers -->
        <script id="error-template" type="text/x-handlebars-template">
            <h1>Uh Oh.</h1>
            <p>Something went wrong with the server logic.  That's not good :(.</p>
            <p>You should go back to the homepage, <a href='/'>here</a>.</p>
        </script>
        <script id="error-404-template" type="text/x-handlebars-template">
            <h1>Uh Oh.</h1>
            <p>We can't find <a>/#/{{ addr }}</a>.</p>
            <p>You should go back to the homepage, <a href='/'>here</a>.</p>
        </script>

        <!-- Vendor JS -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.4/handlebars.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>
        <script src="assets/js/particles.min.js"></script>

        <script src="assets/js/app.js"></script>
    </body>
</html>
